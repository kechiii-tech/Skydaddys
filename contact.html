<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | Skydaddy Web Development</title>
    <meta name="description" content="Contact Skydaddy Web Development Company in Nairobi, Kenya for web development services and consultations.">
    <meta name="keywords" content="contact web developer Nairobi, Kenya web development company, software development services Kenya">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="images/logo/skydaddy-logo.png" type="image/png">
    <style>
        /* Additional styles for WhatsApp integration */
        .error {
            border-color: #e74c3c !important;
            box-shadow: 0 0 0 2px rgba(231, 76, 60, 0.1) !important;
        }
        .error-message {
            color: #e74c3c;
            font-size: 0.8rem;
            margin-top: 0.25rem;
            padding-left: 5px;
        }
        .char-counter {
            text-align: right;
            font-size: 0.8rem;
            color: #95a5a6;
            margin-top: 0.25rem;
            padding-right: 5px;
        }
        .success-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            animation: fadeIn 0.3s ease-in-out;
        }
        .success-message-box {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(-30px) scale(0.9);
            }
            to { 
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .price-hint {
            margin-top: 0.5rem;
            color: var(--primary);
            font-weight: 500;
            font-size: 0.9rem;
            padding: 5px 10px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <div class="logo-icon">SD</div>
                <div class="logo-text">
                    <span class="logo-primary">Sky</span><span class="logo-accent">daddy</span>
                </div>
            </a>
            
            <div class="nav-menu">
                <a href="index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
                <a href="about.html" class="nav-link"><i class="fas fa-user"></i> About</a>
                <a href="services.html" class="nav-link"><i class="fas fa-code"></i> Services</a>
                
                <a href="contact.html" class="nav-link active"><i class="fas fa-paper-plane"></i> Contact</a>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <div class="logo">
                <div class="logo-icon">SD</div>
                <div class="logo-text">Skydaddy</div>
            </div>
            <button class="close-menu" id="closeMenuBtn"><i class="fas fa-times"></i></button>
        </div>
        <div class="mobile-menu-links">
            <a href="index.html" class="mobile-link"><i class="fas fa-home"></i> Home</a>
            <a href="about.html" class="mobile-link"><i class="fas fa-user"></i> About</a>
            <a href="services.html" class="mobile-link"><i class="fas fa-code"></i> Services</a>
            
            <a href="contact.html" class="mobile-link active"><i class="fas fa-paper-plane"></i> Contact</a>
        </div>
        <div class="mobile-contact">
            <a href="tel:+254117702463" class="mobile-phone"><i class="fas fa-phone"></i> Call Us</a>
            <a href="https://wa.me/254117702463" target="_blank" class="mobile-whatsapp"><i class="fab fa-whatsapp"></i> WhatsApp</a>
        </div>
    </div>

    <!-- Contact Hero -->
    <section class="page-hero contact-hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Get In <span class="highlight">Touch</span></h1>
                <p class="hero-subtitle">Let's discuss your project and build something amazing together</p>
                <div class="hero-buttons">
                    <a href="tel:+254117702463" class="btn-primary">
                        <i class="fas fa-phone"></i> Call Now
                    </a>
                    <a href="mailto:kipkoechryan123@gmail.com" class="btn-secondary">
                        <i class="fas fa-envelope"></i> Send Email
                    </a>
                </div>
            </div>
            <div class="hero-image">
                <img src="https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Contact us for web development" style="border-radius: var(--radius-xl);">
            </div>
        </div>
    </section>

    <!-- Contact Methods -->
    <section class="contact-methods">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Contact Us Anytime</h2>
                <p class="section-subtitle">Choose your preferred way to get in touch</p>
            </div>
            
            <div class="contact-cards">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h3>WhatsApp</h3>
                    <p>Quick chat for instant support and quotes</p>
                    <div class="contact-details">
                        <p><i class="fas fa-phone"></i> +254 117 702 463</p>
                        <p><i class="fas fa-clock"></i> Response within minutes</p>
                    </div>
                    <a href="https://wa.me/254117702463" target="_blank" class="btn-whatsapp">
                        <i class="fab fa-whatsapp"></i> Chat on WhatsApp
                    </a>
                </div>
                
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h3>Phone Call</h3>
                    <p>Direct consultation for detailed discussions</p>
                    <div class="contact-details">
                        <p><i class="fas fa-phone"></i> +254 117 702 463</p>
                        <p><i class="fas fa-clock"></i> Mon-Sun, 8AM - 10PM EAT</p>
                    </div>
                    <a href="tel:+254117702463" class="btn-primary">
                        <i class="fas fa-phone"></i> Call Now
                    </a>
                </div>
                
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3>Email</h3>
                    <p>For detailed project proposals and documents</p>
                    <div class="contact-details">
                        <p><i class="fas fa-envelope"></i> kipkoechryan123@gmail.com</p>
                        <p><i class="fas fa-clock"></i> Response within 24 hours</p>
                    </div>
                    <a href="mailto:kipkoechryan123@gmail.com" class="btn-secondary">
                        <i class="fas fa-envelope"></i> Send Email
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Form -->
    <section class="contact-form-section">
        <div class="container">
            <div class="form-container">
                <div class="form-header">
                    <h2 class="section-title">Send Us a Message</h2>
                    <p class="section-subtitle">Fill out the form below and we'll get back to you shortly</p>
                </div>
                
                <form id="contactForm" class="contact-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">
                                <i class="fas fa-user"></i> Your Name *
                            </label>
                            <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">
                                <i class="fas fa-envelope"></i> Email Address *
                            </label>
                            <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">
                                <i class="fas fa-phone"></i> Phone Number
                            </label>
                            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number">
                        </div>
                        
                        <div class="form-group">
                            <label for="service">
                                <i class="fas fa-cog"></i> Service Interested In *
                            </label>
                            <select id="service" name="service" required>
                                <option value="">Select a service</option>
                                <option value="website">Website Development</option>
                                <option value="booking">Booking System</option>
                                <option value="dashboard">Admin Dashboard</option>
                                <option value="mvp">MVP Development</option>
                                <option value="redesign">Website Redesign</option>
                                <option value="consultation">Free Consultation</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="budget">
                                <i class="fas fa-money-bill"></i> Budget Range
                            </label>
                            <select id="budget" name="budget">
                                <option value="">Select budget range</option>
                                <option value="10000-20000">KES 10,000 - 20,000</option>
                                <option value="20000-40000">KES 20,000 - 40,000</option>
                                <option value="40000-70000">KES 40,000 - 70,000</option>
                                <option value="70000+">KES 70,000+</option>
                                <option value="not-sure">Not sure yet</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="timeline">
                                <i class="fas fa-calendar"></i> Timeline
                            </label>
                            <select id="timeline" name="timeline">
                                <option value="">Select timeline</option>
                                <option value="urgent">Urgent (1-2 weeks)</option>
                                <option value="standard">Standard (3-4 weeks)</option>
                                <option value="flexible">Flexible (1-2 months)</option>
                                <option value="not-sure">Not sure yet</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">
                            <i class="fas fa-comment"></i> Your Message *
                        </label>
                        <textarea id="message" name="message" rows="5" placeholder="Tell us about your project requirements, timeline, and budget..." required></textarea>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="newsletter" name="newsletter">
                        <label for="newsletter">Subscribe to our newsletter for web development tips and updates</label>
                    </div>
                    
                    <button type="submit" class="btn-primary submit-btn">
                        <i class="fas fa-paper-plane"></i> Send Message
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Location & Social -->
    <section class="location-social">
        <div class="container">
            <div class="location-content">
                <div class="location-info">
                    <h2>Our Location</h2>
                    <div class="location-details">
                        <div class="location-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h4>Based In</h4>
                                <p>Nairobi, Kenya</p>
                                <p class="location-note">Serving clients locally and internationally</p>
                            </div>
                        </div>
                        
                        <div class="location-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <h4>Working Hours</h4>
                                <p>Monday - Sunday: 8:00 AM - 10:00 PM</p>
                                <p>East Africa Time (EAT)</p>
                            </div>
                        </div>
                        
                        <div class="location-item">
                            <i class="fas fa-globe-africa"></i>
                            <div>
                                <h4>Service Area</h4>
                                <p>Nairobi ‚Ä¢ Kenya ‚Ä¢ East Africa ‚Ä¢ International</p>
                                <p>Remote collaboration available worldwide</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="social-connect">
                    <h2>Connect With Us</h2>
                    <p>Follow us on social media for updates and web development insights</p>
                    
                    <div class="social-buttons">
                        <a href="https://github.com/kechiii-tech" target="_blank" class="social-btn github">
                            <i class="fab fa-github"></i>
                            <span>GitHub</span>
                        </a>
                        
                        <a href="https://twitter.com/SkydaddyS" target="_blank" class="social-btn twitter">
                            <i class="fab fa-twitter"></i>
                            <span>Twitter</span>
                        </a>
                        
                        <a href="https://www.linkedin.com/in/kipk5-emmanuel" target="_blank" class="social-btn linkedin">
                            <i class="fab fa-linkedin"></i>
                            <span>LinkedIn</span>
                        </a>
                        
                        <a href="https://www.instagram.com/skyda.ddys" target="_blank" class="social-btn instagram">
                            <i class="fab fa-instagram"></i>
                            <span>Instagram</span>
                        </a>
                    </div>
                    
                    <div class="social-note">
                        <p><i class="fas fa-lightbulb"></i> Follow for web development tips, project updates, and tech insights!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="contact-faq">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Frequently Asked Questions</h2>
                <p class="section-subtitle">Quick answers to common questions</p>
            </div>
            
            <div class="faq-grid">
                <div class="faq-item">
                    <h4><i class="fas fa-question-circle"></i> How quickly can you start my project?</h4>
                    <p>We can typically start within 1-3 days after project discussion and agreement. For urgent projects, same-day start is possible.</p>
                </div>
                
                <div class="faq-item">
                    <h4><i class="fas fa-question-circle"></i> What's your typical response time?</h4>
                    <p>WhatsApp/Call: Within minutes | Email: Within 24 hours | Contact Form: Within 12 hours</p>
                </div>
                
                <div class="faq-item">
                    <h4><i class="fas fa-question-circle"></i> Do you offer free consultations?</h4>
                    <p>Yes! We offer free 30-minute consultations to discuss your project requirements and provide initial guidance.</p>
                </div>
                
                <div class="faq-item">
                    <h4><i class="fas fa-question-circle"></i> What payment methods do you accept?</h4>
                    <p>We accept M-Pesa, bank transfers, PayPal, and other secure payment methods convenient for you.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="footer-logo">
                        <div class="logo-icon">SD</div>
                        <div class="logo-text">
                            <span class="logo-primary">Sky</span><span class="logo-accent">daddy</span>
                        </div>
                    </div>
                    <p class="footer-about">
                        Web development company based in Nairobi, Kenya. We build digital solutions 
                        that help businesses grow and succeed in the online world.
                    </p>
                    <div class="social-links">
                        <a href="https://github.com/kechiii-tech" target="_blank" class="social-link">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://twitter.com/SkydaddyS" target="_blank" class="social-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/kipk5-emmanuel" target="_blank" class="social-link">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="https://www.instagram.com/skyda.ddys" target="_blank" class="social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3 class="footer-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="about.html"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="services.html"><i class="fas fa-chevron-right"></i> Services</a></li>
                       
                        <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3 class="footer-title">Our Services</h3>
                    <ul class="footer-links">
                        <li><a href="services.html#webdev"><i class="fas fa-chevron-right"></i> Web Development</a></li>
                        <li><a href="services.html#fullstack"><i class="fas fa-chevron-right"></i> Full-Stack Solutions</a></li>
                        <li><a href="services.html#management"><i class="fas fa-chevron-right"></i> Management Systems</a></li>
                        <li><a href="services.html#mobile-apps"><i class="fas fa-chevron-right"></i> Mobile Apps</a></li>
                        <li><a href="services.html#consulting"><i class="fas fa-chevron-right"></i> IT Consulting</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3 class="footer-title">Contact Info</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Nairobi, Kenya</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <a href="tel:+254117702463">+254 117 702 463</a>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <a href="mailto:kipkoechryan123@gmail.com">kipkoechryan123@gmail.com</a>
                        </div>
                        <div class="contact-item">
                            <i class="fab fa-github"></i>
                            <a href="https://github.com/kechiii-tech" target="_blank">kechiii-tech</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="currentYear">2024</span> Skydaddy Web Development. All rights reserved.</p>
                <p>CEO: <strong>Kipkoech Emmanuel</strong> | Computer Science Student, Nairobi</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script>
        // ===== CONTACT FORM WHATSAPP INTEGRATION =====
        // All form submissions go to WhatsApp: +254117702463

        document.addEventListener('DOMContentLoaded', function() {
            // Set current year for footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // Initialize contact form
            initContactForm();
            initPhoneInputFormatting();
            initCharacterCounter();
            initServiceSelector();
            initFormPersistence();
        });

        // WhatsApp number - ALL MESSAGES GO HERE
        const WHATSAPP_NUMBER = '254117702463';

        // Contact Form Handling
        function initContactForm() {
            const contactForm = document.getElementById('contactForm');
            
            if (!contactForm) {
                console.error('Contact form not found!');
                return;
            }
            
            console.log('Contact form initialized. All submissions will go to WhatsApp: ' + WHATSAPP_NUMBER);
            
            // Remove existing submit handler
            contactForm.removeEventListener('submit', contactForm._submitHandler);
            
            // Add new submit handler
            contactForm._submitHandler = function(e) {
                e.preventDefault();
                
                if (validateContactForm(contactForm)) {
                    sendFormToWhatsApp(contactForm);
                }
                
                return false;
            };
            
            contactForm.addEventListener('submit', contactForm._submitHandler);
            
            // Real-time validation
            const inputs = contactForm.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('blur', function() {
                    validateField(this);
                });
                
                input.addEventListener('input', function() {
                    clearError(this);
                    saveFormDraft();
                });
            });
        }

        // Phone input formatting
        function initPhoneInputFormatting() {
            const phoneInput = document.getElementById('phone');
            
            if (phoneInput) {
                phoneInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    
                    // Format as Kenyan phone number
                    if (value.length <= 3) {
                        value = value;
                    } else if (value.length <= 6) {
                        value = value.replace(/(\d{3})(\d{0,3})/, '$1 $2');
                    } else if (value.length <= 9) {
                        value = value.replace(/(\d{3})(\d{3})(\d{0,3})/, '$1 $2 $3');
                    } else {
                        value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{0,4})/, '$1 $2 $3 $4');
                    }
                    
                    e.target.value = value;
                });
            }
        }

        // Character counter for textarea
        function initCharacterCounter() {
            const messageTextarea = document.getElementById('message');
            
            if (messageTextarea) {
                const counter = document.createElement('div');
                counter.className = 'char-counter';
                counter.textContent = '0/500';
                
                messageTextarea.parentNode.appendChild(counter);
                
                messageTextarea.addEventListener('input', function() {
                    const length = this.value.length;
                    counter.textContent = `${length}/500`;
                    
                    if (length > 500) {
                        counter.style.color = '#e74c3c';
                        this.value = this.value.substring(0, 500);
                        counter.textContent = '500/500 (max)';
                    } else if (length > 450) {
                        counter.style.color = '#f39c12';
                    } else {
                        counter.style.color = '#95a5a6';
                    }
                });
            }
        }

        // Service selector with pricing hints
        function initServiceSelector() {
            const serviceSelect = document.getElementById('service');
            const budgetSelect = document.getElementById('budget');
            
            if (serviceSelect && budgetSelect) {
                // Service price hints
                const priceHints = {
                    'website': 'KES 15,000 - 35,000',
                    'booking': 'KES 25,000 - 50,000',
                    'dashboard': 'KES 10,000 - 30,000',
                    'mvp': 'KES 50,000+',
                    'redesign': 'KES 10,000 - 25,000',
                    'consultation': 'KES 2,000 - 5,000'
                };
                
                serviceSelect.addEventListener('change', function() {
                    const service = this.value;
                    let priceHint = document.getElementById('price-hint');
                    
                    if (!priceHint) {
                        priceHint = document.createElement('div');
                        priceHint.id = 'price-hint';
                        priceHint.className = 'price-hint';
                        this.parentNode.appendChild(priceHint);
                    }
                    
                    if (priceHints[service]) {
                        priceHint.textContent = `üí∞ Typical price: ${priceHints[service]}`;
                        priceHint.style.display = 'block';
                        
                        // Auto-select appropriate budget
                        const priceRange = priceHints[service].match(/KES (\d+,\d+)/);
                        if (priceRange) {
                            const price = parseInt(priceRange[1].replace(',', ''));
                            let budgetValue = '';
                            
                            if (price < 20000) budgetValue = '10000-20000';
                            else if (price < 40000) budgetValue = '20000-40000';
                            else if (price < 70000) budgetValue = '40000-70000';
                            else budgetValue = '70000+';
                            
                            budgetSelect.value = budgetValue;
                        }
                    } else {
                        priceHint.style.display = 'none';
                    }
                });
                
                // Trigger change on load if already selected
                if (serviceSelect.value) {
                    serviceSelect.dispatchEvent(new Event('change'));
                }
            }
        }

        // Form persistence in localStorage
        function saveFormDraft() {
            const contactForm = document.getElementById('contactForm');
            if (!contactForm) return;
            
            const formData = {};
            const inputs = contactForm.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                if (input.name && input.type !== 'submit') {
                    formData[input.name] = input.value;
                }
            });
            
            localStorage.setItem('contactFormDraft', JSON.stringify(formData));
        }

        function initFormPersistence() {
            const contactForm = document.getElementById('contactForm');
            if (!contactForm) return;
            
            // Load saved form data
            const savedData = localStorage.getItem('contactFormDraft');
            if (savedData) {
                try {
                    const formData = JSON.parse(savedData);
                    Object.keys(formData).forEach(key => {
                        const input = contactForm.querySelector(`[name="${key}"]`);
                        if (input && input.type !== 'submit') {
                            input.value = formData[key];
                            // Trigger validation for filled fields
                            if (input.value.trim()) {
                                validateField(input);
                            }
                        }
                    });
                    
                    // Update character counter if exists
                    const messageField = document.getElementById('message');
                    const counter = document.querySelector('.char-counter');
                    if (messageField && counter) {
                        const length = messageField.value.length;
                        counter.textContent = `${length}/500`;
                        if (length > 450) {
                            counter.style.color = length > 500 ? '#e74c3c' : '#f39c12';
                        }
                    }
                    
                    // Trigger service selector change if service is selected
                    const serviceSelect = document.getElementById('service');
                    if (serviceSelect && serviceSelect.value) {
                        serviceSelect.dispatchEvent(new Event('change'));
                    }
                    
                    console.log('Form draft loaded from localStorage');
                } catch (e) {
                    console.error('Error loading form draft:', e);
                    localStorage.removeItem('contactFormDraft');
                }
            }
            
            // Clear saved data on successful submission
            contactForm.addEventListener('submit', function() {
                localStorage.removeItem('contactFormDraft');
            });
        }

        // Validate individual field
        function validateField(field) {
            const value = field.value.trim();
            let isValid = true;
            let errorMessage = '';
            
            // Clear previous error
            clearError(field);
            
            // Required validation
            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = 'This field is required';
            }
            
            // Email validation
            if (field.type === 'email' && value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    isValid = false;
                    errorMessage = 'Please enter a valid email address';
                }
            }
            
            // Phone validation
            if (field.id === 'phone' && value) {
                const cleanPhone = value.replace(/\D/g, '');
                if (cleanPhone.length < 9 || cleanPhone.length > 12) {
                    isValid = false;
                    errorMessage = 'Please enter a valid phone number (9-12 digits)';
                }
            }
            
            // Show error if invalid
            if (!isValid) {
                showError(field, errorMessage);
            }
            
            return isValid;
        }

        // Show error message
        function showError(field, message) {
            // Remove existing error
            clearError(field);
            
            // Add error class
            field.classList.add('error');
            
            // Create error message element
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            
            field.parentNode.appendChild(errorDiv);
        }

        // Clear error
        function clearError(field) {
            field.classList.remove('error');
            
            const errorDiv = field.parentNode.querySelector('.error-message');
            if (errorDiv) {
                errorDiv.remove();
            }
        }

        // Validate entire form
        function validateContactForm(form) {
            let isValid = true;
            const requiredFields = form.querySelectorAll('[required]');
            
            // Clear all errors first
            requiredFields.forEach(field => clearError(field));
            
            // Validate each required field
            requiredFields.forEach(field => {
                if (!validateField(field)) {
                    isValid = false;
                    // Focus on first invalid field
                    if (isValid === false) {
                        field.focus();
                    }
                }
            });
            
            return isValid;
        }

        // ===== MAIN FUNCTION: SEND FORM TO WHATSAPP =====
        function sendFormToWhatsApp(form) {
            console.log('Sending form data to WhatsApp...');
            
            // Get form data
            const formData = new FormData(form);
            const formValues = {};
            
            // Convert FormData to object
            for (let [key, value] of formData.entries()) {
                formValues[key] = value;
            }
            
            console.log('Form data:', formValues);
            
            // Create WhatsApp message
            let message = `*üì± NEW CONTACT FORM SUBMISSION*%0A%0A`;
            
            // Add all form fields to the message
            if (formValues.name) {
                message += `*üë§ Name:* ${formValues.name}%0A`;
            }
            
            if (formValues.email) {
                message += `*üìß Email:* ${formValues.email}%0A`;
            }
            
            if (formValues.phone) {
                message += `*üìû Phone:* ${formValues.phone}%0A`;
            }
            
            if (formValues.service) {
                const serviceNames = {
                    'website': 'Website Development',
                    'booking': 'Booking System',
                    'dashboard': 'Admin Dashboard',
                    'mvp': 'MVP Development',
                    'redesign': 'Website Redesign',
                    'consultation': 'Free Consultation',
                    'other': 'Other'
                };
                message += `*üéØ Service:* ${serviceNames[formValues.service] || formValues.service}%0A`;
            }
            
            if (formValues.budget) {
                const budgetRanges = {
                    '10000-20000': 'KES 10,000 - 20,000',
                    '20000-40000': 'KES 20,000 - 40,000',
                    '40000-70000': 'KES 40,000 - 70,000',
                    '70000+': 'KES 70,000+',
                    'not-sure': 'Not sure yet'
                };
                message += `*üí∞ Budget:* ${budgetRanges[formValues.budget] || formValues.budget}%0A`;
            }
            
            if (formValues.timeline) {
                const timelineNames = {
                    'urgent': 'Urgent (1-2 weeks)',
                    'standard': 'Standard (3-4 weeks)',
                    'flexible': 'Flexible (1-2 months)',
                    'not-sure': 'Not sure yet'
                };
                message += `*üìÖ Timeline:* ${timelineNames[formValues.timeline] || formValues.timeline}%0A`;
            }
            
            if (formValues.message) {
                message += `%0A*üìù Project Details:*%0A${formValues.message}%0A`;
            }
            
            if (formValues.newsletter) {
                message += `*üì¨ Newsletter:* Subscribed ‚úÖ%0A`;
            } else {
                message += `*üì¨ Newsletter:* Not Subscribed%0A`;
            }
            
            // Add timestamp and source
            message += `%0A---%0A`;
            message += `*üìÖ Date:* ${new Date().toLocaleDateString('en-KE')}%0A`;
            message += `*üïí Time:* ${new Date().toLocaleTimeString('en-KE')}%0A`;
            message += `*üåê Source:* Skydaddy Website Contact Form%0A`;
            message += `%0A_This message was sent automatically from your website contact form_`;
            
            console.log('WhatsApp message prepared');
            
            // Encode message for URL
            const encodedMessage = encodeURIComponent(message);
            
            // Create WhatsApp URL
            const whatsappURL = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodedMessage}`;
            
            console.log('Opening WhatsApp...');
            
            // Show loading state
            const submitBtn = form.querySelector('.submit-btn');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Opening WhatsApp...';
            submitBtn.disabled = true;
            
            // Open WhatsApp in new tab
            setTimeout(() => {
                window.open(whatsappURL, '_blank');
                
                // Show success overlay
                showWhatsAppSuccessOverlay();
                
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Reset form after a delay
                setTimeout(() => {
                    form.reset();
                    
                    // Reset character counter
                    const counter = document.querySelector('.char-counter');
                    if (counter) {
                        counter.textContent = '0/500';
                        counter.style.color = '#95a5a6';
                    }
                    
                    // Clear price hint
                    const priceHint = document.getElementById('price-hint');
                    if (priceHint) {
                        priceHint.style.display = 'none';
                    }
                }, 1000);
                
            }, 1000);
            
            return false;
        }

        // Show success overlay
        function showWhatsAppSuccessOverlay() {
            // Remove any existing overlay
            const existing = document.querySelector('.whatsapp-success-overlay');
            if (existing) existing.remove();
            
            // Create overlay
            const overlay = document.createElement('div');
            overlay.className = 'whatsapp-success-overlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 99999;
                animation: fadeIn 0.3s ease-in-out;
            `;
            
            // Create success message box
            const messageBox = document.createElement('div');
            messageBox.className = 'success-message-box';
            
            messageBox.innerHTML = `
                <div style="font-size: 60px; color: #25D366; margin-bottom: 20px;">
                    <i class="fab fa-whatsapp"></i>
                </div>
                <h2 style="color: #333; margin-bottom: 15px; font-size: 24px;">
                    Redirecting to WhatsApp!
                </h2>
                <p style="color: #666; margin-bottom: 20px; line-height: 1.6;">
                    ‚úÖ Your form has been submitted successfully<br>
                    ‚úÖ All your information has been captured<br>
                    ‚úÖ Opening WhatsApp to send your message
                </p>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <p style="color: #333; margin: 0; font-weight: 600;">
                        <i class="fas fa-phone-alt" style="color: #25D366;"></i>
                        Messages are sent to: +${WHATSAPP_NUMBER}
                    </p>
                </div>
                <p style="color: #777; font-size: 14px; margin-bottom: 25px;">
                    If WhatsApp doesn't open automatically, 
                    <a href="https://wa.me/${WHATSAPP_NUMBER}" 
                       style="color: #25D366; font-weight: 600; text-decoration: none;"
                       target="_blank">
                       click here to open WhatsApp
                    </a>
                </p>
                <button id="closeWhatsAppOverlay" 
                        style="background: #25D366; color: white; border: none; 
                               padding: 12px 25px; border-radius: 5px; 
                               font-size: 16px; cursor: pointer; 
                               font-weight: 600; margin-top: 10px;">
                    <i class="fas fa-check"></i> OK, Got It!
                </button>
            `;
            
            overlay.appendChild(messageBox);
            document.body.appendChild(overlay);
            document.body.style.overflow = 'hidden';
            
            // Close button functionality
            const closeBtn = document.getElementById('closeWhatsAppOverlay');
            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    overlay.style.animation = 'fadeOut 0.3s ease-in-out';
                    setTimeout(() => {
                        if (overlay.parentNode) {
                            overlay.remove();
                            document.body.style.overflow = 'auto';
                        }
                    }, 300);
                });
            }
            
            // Auto-close after 8 seconds
            setTimeout(() => {
                if (overlay.parentNode) {
                    overlay.style.animation = 'fadeOut 0.3s ease-in-out';
                    setTimeout(() => {
                        if (overlay.parentNode) {
                            overlay.remove();
                            document.body.style.overflow = 'auto';
                        }
                    }, 300);
                }
            }, 8000);
            
            // Close on overlay click
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    overlay.style.animation = 'fadeOut 0.3s ease-in-out';
                    setTimeout(() => {
                        if (overlay.parentNode) {
                            overlay.remove();
                            document.body.style.overflow = 'auto';
                        }
                    }, 300);
                }
            });
        }

        // Handle URL parameters for pre-filling
        const urlParams = new URLSearchParams(window.location.search);
        const serviceFromURL = urlParams.get('service');
        const subjectFromURL = urlParams.get('subject');

        document.addEventListener('DOMContentLoaded', function() {
            // Pre-fill service if provided in URL
            if (serviceFromURL || subjectFromURL) {
                const serviceSelect = document.getElementById('service');
                if (serviceSelect) {
                    const valueToUse = serviceFromURL || subjectFromURL;
                    serviceSelect.value = valueToUse;
                    
                    // Trigger change event to show price hint
                    serviceSelect.dispatchEvent(new Event('change'));
                    
                    // Update message placeholder
                    const messageTextarea = document.getElementById('message');
                    if (messageTextarea) {
                        const serviceText = serviceSelect.options[serviceSelect.selectedIndex]?.text || valueToUse;
                        messageTextarea.placeholder = `I'm interested in ${serviceText}. Please provide more details about this service.`;
                    }
                }
            }
        });

        console.log('Skydaddy Contact Form WhatsApp Integration Loaded');
        console.log('All form submissions will be sent to WhatsApp: +' + WHATSAPP_NUMBER);
    </script>
</body>

</html>
